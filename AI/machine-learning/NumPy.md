---
title: NumPy
published: 2025-10-12
description: "æ ¸å¿ƒæ•°æ®åˆ†æå·¥å…·ï¼šNumPyä»‹ç»"
first_level_category: "äººå·¥æ™ºèƒ½"
second_level_category: "æ•°æ®åˆ†æå·¥å…·"
tags: ['ML','numpy']
cover: "/mdsImgs/AI/ML/Numpy.png"
draft: false
---

NumPy æ˜¯ Python ç§‘å­¦è®¡ç®—ç”Ÿæ€ç³»ç»Ÿçš„åŸºçŸ³ï¼Œå‡ ä¹æ‰€æœ‰é«˜çº§æ•°æ®åˆ†æå’Œæœºå™¨å­¦ä¹ åº“ï¼ˆå¦‚ Pandas, Scikit-learn, TensorFlow, PyTorchï¼‰éƒ½æ„å»ºäºå…¶ä¸Šæˆ–ä¸ä¹‹æ·±åº¦é›†æˆã€‚

### ä»€ä¹ˆæ˜¯ NumPyğŸ¤¨

NumPy çš„å…¨ç§°æ˜¯ **Numerical Python**ï¼Œå³â€œæ•°å€¼ Pythonâ€ã€‚å®ƒæ˜¯ä¸€ä¸ªå¼€æºçš„ Python åº“ï¼Œä¸»è¦åŠŸèƒ½å¦‚ä¸‹ï¼š

1. **æä¾›å¼ºå¤§çš„ N ç»´æ•°ç»„å¯¹è±¡ (ndarray)**ï¼šè¿™æ˜¯ NumPy çš„æ ¸å¿ƒã€‚å®ƒæ˜¯ä¸€ä¸ªå¤šç»´çš„ã€ç”±ç›¸åŒç±»å‹å…ƒç´ ç»„æˆçš„æ•°ç»„
2. **æä¾›å¤æ‚çš„å¹¿æ’­å‡½æ•°**ï¼šå…è®¸å¯¹ä¸åŒå½¢çŠ¶çš„æ•°ç»„è¿›è¡Œæ•°å­¦è¿ç®—
3. **æä¾›ä¸°å¯Œçš„æ•°å­¦å‡½æ•°åº“**ï¼šåŒ…å«äº†å¤§é‡ç”¨äºæ“ä½œæ•°ç»„çš„æ•°å­¦ã€é€»è¾‘ã€**çº¿æ€§ä»£æ•°ã€å‚…é‡Œå¶å˜æ¢**ã€éšæœºæ•°ç”Ÿæˆç­‰å‡½æ•°
4. **é«˜æ€§èƒ½**ï¼šNumPy çš„åº•å±‚ä»£ç ç”± C å’Œ Fortran ç¼–å†™ï¼Œè¿™ä½¿å¾—å…¶æ•°ç»„æ“ä½œå’Œæ•°å­¦è¿ç®—çš„é€Ÿåº¦è¿œè¶…åŸç”Ÿçš„ Python åˆ—è¡¨

**ğŸ¤¨ä¸ºä»€ä¹ˆä¸ç”¨ Python åˆ—è¡¨**

|     ç‰¹æ€§     |                Python åˆ—è¡¨ (list)                |                    NumPy æ•°ç»„ (ndarray)                     |
| :----------: | :----------------------------------------------: | :---------------------------------------------------------: |
| **å…ƒç´ ç±»å‹** |  å¯ä»¥å­˜å‚¨ä¸åŒç±»å‹çš„å…ƒç´ ï¼ˆå¦‚æ•´æ•°ã€å­—ç¬¦ä¸²ã€å¯¹è±¡ï¼‰  |    åªèƒ½å­˜å‚¨ç›¸åŒç±»å‹çš„å…ƒç´ ï¼ˆå¦‚å…¨æ˜¯ int32 æˆ–å…¨æ˜¯ float64ï¼‰    |
|   **æ€§èƒ½**   | è¿ç®—é€Ÿåº¦æ…¢ï¼Œå› ä¸ºéœ€è¦ç±»å‹æ£€æŸ¥ä¸”å…ƒç´ åœ¨å†…å­˜ä¸­ä¸è¿ç»­ | è¿ç®—é€Ÿåº¦æå¿«ï¼Œæ— ç±»å‹æ£€æŸ¥ï¼Œå…ƒç´ åœ¨å†…å­˜ä¸­è¿ç»­å­˜å‚¨ï¼Œåˆ©äºCPUç¼“å­˜ |
|   **å†…å­˜**   |       å­˜å‚¨å…ƒç´ æœ¬èº«å’Œå…¶ç±»å‹ä¿¡æ¯ï¼Œå†…å­˜å¼€é”€å¤§       |                   åªå­˜å‚¨å…ƒç´ ï¼Œå†…å­˜å¼€é”€å°                    |
| **æ•°å­¦è¿ç®—** | ä¸æ”¯æŒå¯¹æ•´ä¸ªåˆ—è¡¨è¿›è¡Œå‘é‡åŒ–æ•°å­¦è¿ç®—ï¼ˆéœ€è¦å†™å¾ªç¯ï¼‰ |             æ”¯æŒå¯¹æ•´ä¸ªæ•°ç»„è¿›è¡Œé«˜æ•ˆçš„å‘é‡åŒ–è¿ç®—              |

### NumPy çš„æ ¸å¿ƒ

#### 1. åˆ›å»ºæ•°ç»„

é¦–å…ˆï¼Œä½ éœ€è¦å¯¼å…¥ NumPy åº“ï¼Œé€šå¸¸æˆ‘ä»¬å°†å…¶ç®€å†™ä¸º np

```python
import numpy as np
```

**a. ä» Python åˆ—è¡¨åˆ›å»º**

```Python
# ä¸€ç»´æ•°ç»„
arr1 = np.array([1, 2, 3, 4, 5])
print(arr1)  # è¾“å‡º: [1 2 3 4 5]

# äºŒç»´æ•°ç»„ï¼ˆçŸ©é˜µï¼‰
arr2 = np.array([[1, 2, 3], [4, 5, 6]])
print(arr2)
# è¾“å‡º:
# [[1 2 3]
#  [4 5 6]]
  
```

**b. ä½¿ç”¨å†…ç½®å‡½æ•°åˆ›å»º**

NumPy æä¾›äº†å¾ˆå¤šä¾¿æ·çš„å‡½æ•°æ¥åˆ›å»ºç‰¹å®šç±»å‹çš„æ•°ç»„

```Python
# åˆ›å»ºä¸€ä¸ªä»0åˆ°9çš„æ•°ç»„
# arange å‡½æ•°ç”¨äºåˆ›å»ºå…ƒç´ å€¼è¿ç»­æ•´æ•°çš„æ•°ç»„
arr_arange = np.arange(10)
print(arr_arange)  # è¾“å‡º: [0 1 2 3 4 5 6 7 8 9]

# åˆ›å»ºä¸€ä¸ªå…¨ä¸º0çš„3x4æ•°ç»„
arr_zeros = np.zeros((3, 4))
print(arr_zeros)

# åˆ›å»ºä¸€ä¸ªå…¨ä¸º1çš„2x3æ•°ç»„
arr_ones = np.ones((2, 3))
print(arr_ones)

# åˆ›å»ºä¸€ä¸ª3x3çš„å•ä½çŸ©é˜µ
arr_eye = np.eye(3)
print(arr_eye)

# åˆ›å»ºä¸€ä¸ªåœ¨[0, 10)åŒºé—´å†…ï¼Œæœ‰5ä¸ªç­‰é—´è·ç‚¹çš„æ•°ç»„
# linspace å‡½æ•°ç”¨äºåˆ›å»ºåœ¨æŒ‡å®šåŒºé—´å†…å‡åŒ€åˆ†å¸ƒçš„æ•°æ®ï¼Œé»˜è®¤ dtype ä¸º float64
arr_linspace = np.linspace(0, 10, 5)
print(arr_linspace) # è¾“å‡º: [ 0.   2.5  5.   7.5 10. ]

# åˆ›å»ºæŒ‡å®šå½¢çŠ¶çš„éšæœºæ•°æ•°ç»„ï¼ˆ0åˆ°1ä¹‹é—´ï¼‰
arr_rand = np.random.rand(2, 3)
print(arr_rand)

# åˆ›å»ºæŒ‡å®šå½¢çŠ¶çš„æ ‡å‡†æ­£æ€åˆ†å¸ƒéšæœºæ•°æ•°ç»„
arr_randn = np.random.randn(2, 3)
print(arr_randn)
```

**c.éšæœºæ•°æ®ç”Ÿæˆ**

numpy ä¸­çš„ random æ¨¡å—æä¾›å¤šç§å‡½æ•°ï¼Œå¯ä»¥ç”Ÿæˆå„ç§éšæœºæ•°æ®

1. ```py
   from numpy import random
   random.rand() #ç”Ÿæˆ[0,1)åŒºé—´çš„ float ç±»å‹éšæœºæ•°
   ```

2. ```py
   random.rand(2,3) #ç”Ÿæˆ 2 è¡Œ 3 åˆ—çš„éšæœºæµ®ç‚¹æ•°äºŒç»´æ•°ç»„ï¼Œæ³¨æ„å‚æ•°çš„å†™æ³•
   ```

3. ```py
   random.random((2,3)) #ç”Ÿæˆ 2 è¡Œ 3 åˆ—çš„éšæœºæµ®ç‚¹æ•°äºŒç»´æ•°ç»„ï¼Œæ³¨æ„å‚æ•°çš„å†™æ³•ï¼ˆ0åˆ°1ä¹‹é—´ï¼‰
   ```

4. ```python
   random.randn(2,3) #ç”Ÿæˆ 2 è¡Œ 3 åˆ—çš„éšæœºæµ®ç‚¹æ•°äºŒç»´æ•°ç»„ï¼Œæ³¨æ„å…ƒç´ å€¼çš„åˆ†å¸ƒä¸ºæ ‡å‡†é«˜æ–¯åˆ†å¸ƒ
   ```

5. ```python
   random.randint(13) #ç”Ÿæˆä¸€ä¸ªå€¼åœ¨[0,13)åŒºé—´çš„éšæœºæ•´æ•°
   random.randint(10, size=(2,3)) #ç”Ÿæˆ 2 è¡Œ 3 åˆ—çš„éšæœºæ•´æ•°äºŒç»´æ•°ç»„
   ```

6. ```py
   random.normal(10,3.5, size=(2,3)) #ç”Ÿæˆ 2 è¡Œ 3 åˆ—çš„äºŒç»´æ•°ç»„ï¼Œæ³¨æ„å…ƒç´ å€¼çš„åˆ†å¸ƒ
   ```

7. Numpy ä¸­ä½¿ç”¨ np.random.seed()å‡½æ•°è®¾ç½®éšæœºæ•°çš„ç§å­ï¼Œå¯¹äºåŒä¸€ä»£ç ï¼Œ è‹¥è®¾ç½®éšæœºæ•°ç§å­ç›¸åŒï¼Œåˆ™æ— è®ºåœ¨ä»€ä¹ˆç¯å¢ƒä¸‹ä½•æ—¶æ‰§è¡Œï¼Œå¾—åˆ°çš„éšæœºåºåˆ—éƒ½æ˜¯ç›¸åŒçš„

   ```py
   np.random.seed(0) #è®¾ç½®éšæœºæ•°ç§å­ä¸º 0
   ```

8. å¯ä»¥ä½¿ç”¨ python æä¾›çš„ dir å’Œ help å‡½æ•°ï¼Œ æŸ¥çœ‹ python åŒ…ã€æ¨¡å—æˆ–ç±»ä¸­æ‰€æœ‰çš„æˆå‘˜å±æ€§å’Œå‡½æ•°ï¼Œä»¥åŠç›¸åº”çš„å®˜æ–¹æä¾›çš„ä½¿ç”¨å¸®åŠ©

   ```py
   print(dir(np.random)) #æŸ¥çœ‹ random æä¾›çš„æ‰€æœ‰å±æ€§å’Œå‡½æ•°
   help(np.random) #æŸ¥çœ‹ random åŒ…çš„å¸®åŠ©è¯´æ˜
   help(random.random_integers) #æŸ¥çœ‹ random.random_integets å‡½æ•°çš„å¸®åŠ©è¯´æ˜
   ```


#### 2. æ•°ç»„çš„å±æ€§

äº†è§£æ•°ç»„çš„å±æ€§å¯¹äºæ“ä½œæ•°ç»„è‡³å…³é‡è¦

```Python
arr = np.array([[1.0, 2.0, 3.0], [4.0, 5.0, 6.0]])

print("æ•°ç»„ç»´åº¦:", arr.ndim)     # è¾“å‡º: 2
print("æ•°ç»„å½¢çŠ¶:", arr.shape)    # è¾“å‡º: (2, 3) -> 2è¡Œ3åˆ—
print("æ•°ç»„æ€»å…ƒç´ æ•°:", arr.size) # è¾“å‡º: 6
print("å…ƒç´ æ•°æ®ç±»å‹:", arr.dtype) # è¾“å‡º: float64
```

- ndimï¼šæ•°ç»„çš„ç»´æ•°ï¼ˆä¹Ÿå«è½´ axis çš„æ•°é‡ï¼‰
- shapeï¼šä¸€ä¸ªå…ƒç»„ï¼Œè¡¨ç¤ºæ•°ç»„åœ¨æ¯ä¸ªç»´åº¦ä¸Šçš„å¤§å°ã€‚è¿™æ˜¯**æœ€é‡è¦**çš„å±æ€§
- sizeï¼šæ•°ç»„ä¸­å…ƒç´ çš„æ€»æ•°
- dtypeï¼šæ•°ç»„å…ƒç´ çš„æ•°æ®ç±»å‹ï¼Œå¦‚ int32, float64 ç­‰

### æ•°ç»„çš„ç´¢å¼•ä¸åˆ‡ç‰‡

NumPy æœ€å¼ºå¤§ã€æœ€çµæ´»çš„åŠŸèƒ½ä¹‹ä¸€

#### 1. åŸºæœ¬ç´¢å¼•ä¸åˆ‡ç‰‡

å’Œ Python åˆ—è¡¨ç±»ä¼¼ï¼Œä½†åŠŸèƒ½æ›´å¼º

```Python
arr = np.arange(10) # [0 1 2 3 4 5 6 7 8 9]

# è·å–å•ä¸ªå…ƒç´ 
print(arr[5])  # è¾“å‡º: 5

# åˆ‡ç‰‡è·å–ä¸€ä¸ªå­æ•°ç»„
print(arr[2:6]) # è¾“å‡º: [2 3 4 5]

# åˆ‡ç‰‡å¹¶èµ‹å€¼
arr[2:6] = 99
print(arr) # è¾“å‡º: [ 0  1 99 99 99 99  6  7  8  9]
```

**é‡è¦æç¤ºï¼šæ•°ç»„åˆ‡ç‰‡æ˜¯åŸå§‹æ•°ç»„çš„è§†å›¾**

è¿™æ„å‘³ç€ä¿®æ”¹åˆ‡ç‰‡ä¼š**ç›´æ¥å½±å“**åˆ°åŸå§‹æ•°ç»„ã€‚è¿™ä¸ Python åˆ—è¡¨çš„è¡Œä¸ºä¸åŒï¼Œè¿™æ ·åšæ˜¯ä¸ºäº†æ€§èƒ½å’ŒèŠ‚çœå†…å­˜

```Python
arr_slice = arr[2:6:2] # æ­¥é•¿ä¸º 2
arr_slice[0] = 1000
print(arr) # è¾“å‡º: [   0    1 1000   99   99   99    6    7    8    9] -> åŸå§‹æ•°ç»„è¢«ä¿®æ”¹äº†ï¼

# å¦‚æœéœ€è¦å‰¯æœ¬(Copy)ï¼Œè€Œä¸æ˜¯è§†å›¾ï¼Œéœ€è¦æ˜¾å¼å¤åˆ¶
arr_copy = arr[2:6].copy()
arr_copy[0] = 0
print(arr) # åŸå§‹æ•°ç»„ä¸ä¼šè¢«ä¿®æ”¹
```

**å¤šç»´æ•°ç»„çš„ç´¢å¼•**

```Python
arr2d = np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9]])

# è·å–å•ä¸ªå…ƒç´  (æ¨èä½¿ç”¨é€—å·)
print(arr2d[1, 2]) # ç¬¬1è¡Œï¼Œç¬¬2åˆ—ï¼ˆä»0å¼€å§‹è®¡æ•°ï¼‰ï¼Œè¾“å‡º: 6

# è·å–ä¸€è¡Œ
print(arr2d[1]) # è¾“å‡º: [4 5 6]

# å¤šç»´æ•°ç»„åˆ‡ç‰‡
# è·å–å‰2è¡Œï¼Œå’Œ1-2åˆ—
sub_arr = arr2d[:2, 1:3]
print(sub_arr)
# è¾“å‡º:
# [[2 3]
#  [5 6]]
```

#### 2. å¸ƒå°”ç´¢å¼• (Boolean Indexing)

è¿›è¡Œæ•°æ®ç­›é€‰å’Œè¿‡æ»¤çš„åˆ©å™¨

```Python
names = np.array(['Bob', 'Joe', 'Will', 'Bob'])
data = np.random.randn(4, 3) # 4x3 çš„éšæœºæ•°æ®

print(data)
# å‡è®¾è¾“å‡º:
# [[-0.41 -0.57  1.22]
#  [ 0.38 -0.39 -0.61]
#  [-0.3  -1.12  0.4 ]
#  [ 0.81 -0.19  1.29]]

# æ‰¾å‡ºæ‰€æœ‰ 'Bob' å¯¹åº”çš„æ•°æ®è¡Œ
print(names == 'Bob') # è¾“å‡º: [ True False False  True]
print(data[names == 'Bob'])
# è¾“å‡º:
# [[-0.41 -0.57  1.22]
#  [ 0.81 -0.19  1.29]]

# ä¹Ÿå¯ä»¥ç»„åˆæ¡ä»¶
# æ‰¾å‡º 'Bob' å¯¹åº”çš„æ•°æ®è¡Œï¼Œå¹¶ä¸”åªçœ‹ç¬¬1åˆ—
print(data[names == 'Bob', 0]) # è¾“å‡º: [-0.41  0.81]

# ä½¿ç”¨ & (ä¸) | (æˆ–) ç»„åˆå¤šä¸ªå¸ƒå°”æ¡ä»¶
mask = (names == 'Bob') | (names == 'Will')
print(data[mask])

# å°†dataä¸­å°äº0çš„æ•°éƒ½è®¾ä¸º0
data[data < 0] = 0
print(data)
```

### å‘é‡åŒ–è®¡ç®—ä¸å¹¿æ’­

#### 1. å‘é‡åŒ–è®¡ç®—

è¿™æ˜¯ NumPy é«˜æ€§èƒ½çš„æ ¸å¿ƒã€‚ç®€å•æ¥è¯´ï¼Œå°±æ˜¯å¯¹**æ•´ä¸ªæ•°ç»„æ‰§è¡Œæ“ä½œ**ï¼Œè€Œä¸éœ€è¦ç¼–å†™æ˜¾å¼çš„ for å¾ªç¯

1. **åŸºç¡€ç®—æœ¯è¿ç®—**ï¼š

   - np.add(x1, x2):                  å…ƒç´ çº§åŠ æ³• (ç›¸å½“äº x1 + x2)
   - np.subtract(x1, x2):          å…ƒç´ çº§å‡æ³• (ç›¸å½“äº x1 - x2)
   - np.multiply(x1, x2):          å…ƒç´ çº§ä¹˜æ³• (ç›¸å½“äº x1 * x2)--**æ•°ç»„ä¹˜æ³•ï¼Œä¸ä¸¥æ ¼çš„çŸ©é˜µä¹˜æ³• @ä¸åŒï¼Œæœ‰å¹¿æ’­æœºåˆ¶**
   - np.divide(x1, x2):              å…ƒç´ çº§æµ®ç‚¹é™¤æ³• (ç›¸å½“äº x1 / x2)
   - np.floor_divide(x1, x2):    å…ƒç´ çº§æ•´é™¤ (ç›¸å½“äº x1 // x2)
   - np.power(x1, x2):              å…ƒç´ çº§æŒ‡æ•°è¿ç®— (ç›¸å½“äº x1 ** x2)
   - np.sqrt(x):                           è®¡ç®—æ¯ä¸ªå…ƒç´ çš„å¹³æ–¹æ ¹
   - np.abs(x) æˆ– np.absolute(x):             è®¡ç®—æ¯ä¸ªå…ƒç´ çš„ç»å¯¹å€¼
   - np.negative(x):                     å–æ¯ä¸ªå…ƒç´ çš„è´Ÿæ•° (ç›¸å½“äº -x)

2. **ä¸‰è§’å‡½æ•°**ï¼š

      è¾“å…¥å‚æ•°é»˜è®¤ä¸º**å¼§åº¦**

   - np.sin(x), np.cos(x), np.tan(x):                     æ ‡å‡†ä¸‰è§’å‡½æ•°
   - np.arcsin(x), np.arccos(x), np.arctan(x):    åä¸‰è§’å‡½æ•°
   - np.degrees(x):                                               å°†å¼§åº¦è½¬æ¢ä¸ºè§’åº¦
   - np.radians(x):                                                å°†è§’åº¦è½¬æ¢ä¸ºå¼§åº¦
   - np.hypot(x1, x2):                                          è®¡ç®—æ–œè¾¹ $\sqrt{x_1^2+x_2^2}$

3. **æŒ‡æ•°å’Œå¯¹æ•°**

   - np.exp(x):       è®¡ç®—æ¯ä¸ªå…ƒç´ çš„è‡ªç„¶æŒ‡æ•° $e^x$
   - np.log(x):        è®¡ç®—æ¯ä¸ªå…ƒç´ çš„è‡ªç„¶å¯¹æ•° $ln(x)$
   - np.log2(x):      è®¡ç®—æ¯ä¸ªå…ƒç´ çš„ä»¥2ä¸ºåº•çš„å¯¹æ•° $log_2(x)$
   - np.log10(x):    è®¡ç®—æ¯ä¸ªå…ƒç´ çš„ä»¥10ä¸ºåº•çš„å¯¹æ•°

4. **èˆå…¥ä¸å–ä½™**

   - np.round(x, decimals=0):          å››èˆäº”å…¥åˆ°æŒ‡å®šå°æ•°ä½æ•°
   - np.floor(x):                                 å‘ä¸‹å–æ•´ï¼Œè¿”å›ä¸å¤§äºè¾“å…¥å‚æ•°çš„æœ€å¤§æ•´æ•°
   - np.ceil(x):                                   å‘ä¸Šå–æ•´ï¼Œè¿”å›ä¸å°äºè¾“å…¥å‚æ•°çš„æœ€å°æ•´æ•°
   - np.trunc(x):                                æˆªæ–­å°æ•°éƒ¨åˆ†ï¼Œåªä¿ç•™æ•´æ•°éƒ¨åˆ†
   - np.mod(x1, x2) æˆ– np.remainder(x1, x2):               å…ƒç´ çº§æ±‚ä½™æ•° (ç›¸å½“äº x1 % x2)

5. **ç»Ÿè®¡å‡½æ•°**

   - np.sum(a, axis=None):                         è®¡ç®—æ•°ç»„å…ƒç´ çš„å’Œ

   - np.prod(a, axis=None):                         è®¡ç®—æ•°ç»„å…ƒç´ çš„ç§¯

   - np.mean(a, axis=None):                       è®¡ç®—ç®—æœ¯å¹³å‡å€¼

   - np.median(a, axis=None):                     è®¡ç®—ä¸­ä½æ•°

   - np.std(a, axis=None):                            è®¡ç®—æ ‡å‡†å·®

   - np.var(a, axis=None):                            è®¡ç®—æ–¹å·®

   - np.min(a, axis=None):                           æ‰¾å‡ºæœ€å°å€¼

   - np.max(a, axis=None):                          æ‰¾å‡ºæœ€å¤§å€¼

   - np.argmin(a, axis=None):                      æ‰¾å‡ºæœ€å°å€¼çš„ç´¢å¼•

   - np.argmax(a, axis=None):                      æ‰¾å‡ºæœ€å¤§å€¼çš„ç´¢å¼•

   - np.percentile(a, q, axis=None):             è®¡ç®—q-ç™¾åˆ†ä½æ•°

   - np.cumsum(a, axis=None):                    è®¡ç®—å…ƒç´ çš„ç´¯ç§¯å’Œ

   - np.cumprod(a, axis=None):                    è®¡ç®—å…ƒç´ çš„ç´¯ç§¯ç§¯

   - å‚æ•° axisï¼š

     - axis=None (é»˜è®¤): å¯¹æ•´ä¸ªæ•°ç»„è¿›è¡Œè®¡ç®—ã€‚

     - axis=0: æ²¿**åˆ—**çš„æ–¹å‘è¿›è¡Œè®¡ç®—ã€‚

     - axis=1: æ²¿**è¡Œ**çš„æ–¹å‘è¿›è¡Œè®¡ç®—ã€‚

```Python
arr = np.array([[1, 2, 3], [4, 5, 6]])

# é€å…ƒç´ è¿ç®—
print(arr * 2)      # æ•°ç»„æ¯ä¸ªå…ƒç´ éƒ½ä¹˜ä»¥2
print(arr + arr)    # ä¸¤ä¸ªæ•°ç»„å¯¹åº”å…ƒç´ ç›¸åŠ 	
print(1 / arr)      # æ•°ç»„æ¯ä¸ªå…ƒç´ æ±‚å€’æ•°
print(arr ** 0.5)   # æ•°ç»„æ¯ä¸ªå…ƒç´ å¼€å¹³æ–¹
```

#### 2. é€šç”¨å‡½æ•°

NumPy æä¾›äº†å¤§é‡å¯¹ ndarray è¿›è¡Œé€å…ƒç´ æ“ä½œçš„å‡½æ•°

```Python
arr = np.arange(5)

print(np.sqrt(arr))   # è®¡ç®—å¹³æ–¹æ ¹
print(np.exp(arr))    # è®¡ç®—æŒ‡æ•° e^x
print(np.sin(arr))    # è®¡ç®—æ­£å¼¦
```

#### 3. å¹¿æ’­

è¿™æ˜¯ NumPy ä¸€ä¸ªéå¸¸å¼ºå¤§çš„æœºåˆ¶ï¼Œå®ƒå…è®¸åœ¨å½¢çŠ¶ä¸åŒçš„æ•°ç»„ä¹‹é—´æ‰§è¡Œæ•°å­¦è¿ç®—

**å¹¿æ’­è§„åˆ™ï¼š**
å½“æ“ä½œä¸¤ä¸ªæ•°ç»„æ—¶ï¼ŒNumPyä¼šé€ä¸ªæ¯”è¾ƒå®ƒä»¬çš„ç»´åº¦ï¼ˆ**ä»åå¾€å‰**ï¼‰

1. å¦‚æœä¸¤ä¸ªæ•°ç»„çš„ç»´åº¦æ•°ä¸åŒï¼Œé‚£ä¹ˆåœ¨ç»´åº¦è¾ƒå°çš„æ•°ç»„çš„å½¢çŠ¶å‰é¢è¡¥1
2. åœ¨ä»»ä½•ä¸€ä¸ªç»´åº¦ä¸Šï¼Œ**å¦‚æœä¸¤ä¸ªæ•°ç»„çš„è¯¥ç»´åº¦å¤§å°ç›¸åŒï¼Œæˆ–è€…å…¶ä¸­ä¸€ä¸ªä¸º1**ï¼Œé‚£ä¹ˆå®ƒä»¬åœ¨è¯¥ç»´åº¦ä¸Šæ˜¯å…¼å®¹çš„
3. å¦‚æœä¸¤ä¸ªæ•°ç»„åœ¨æ‰€æœ‰ç»´åº¦ä¸Šéƒ½æ˜¯å…¼å®¹çš„ï¼Œå®ƒä»¬å°±å¯ä»¥è¢«å¹¿æ’­
4. å¹¿æ’­åï¼Œæ¯ä¸ªæ•°ç»„çš„è¡Œä¸ºéƒ½å¥½åƒå®ƒåœ¨è¯¥ç»´åº¦ä¸Šçš„å½¢çŠ¶ç­‰äºä¸¤ä¸ªè¾“å…¥æ•°ç»„åœ¨è¯¥ç»´åº¦ä¸Šå½¢çŠ¶çš„æœ€å¤§å€¼
5. **å¹¿æ’­çš„æ¯”è¾ƒè§„åˆ™**ï¼š
   1. è§„åˆ™ 0ï¼šä»å³å‘å·¦å¯¹é½
      NumPy ä¼šå°†ä¸¤ä¸ªå½¢çŠ¶å…ƒç»„çš„**æœ«å°¾å¯¹é½**ï¼Œç„¶åä»å³åˆ°å·¦é€ä¸ªæ¯”è¾ƒç»´åº¦çš„å¤§å°ã€‚
   2. è§„åˆ™ 1ï¼šç»´åº¦æ•°é‡çš„æ¯”è¾ƒ (å¤„ç†ç»´åº¦ä¸ç­‰é•¿)
      å¦‚æœåœ¨å¯¹é½åï¼Œä¸€ä¸ªæ•°ç»„çš„ç»´åº¦æ¯”å¦ä¸€ä¸ªå°‘ï¼ˆä¾‹å¦‚ï¼Œæ¯”è¾ƒ (3, 4) å’Œ (4,)ï¼‰ï¼ŒNumPy ä¼šåœ¨**ç»´åº¦è¾ƒå°‘çš„é‚£ä¸ªæ•°ç»„çš„å½¢çŠ¶å…ƒç»„çš„å·¦è¾¹è¡¥ 1**ï¼Œç›´åˆ°å®ƒä»¬çš„ç»´åº¦æ•°é‡ç›¸åŒã€‚
      - A.shape = (3, 4) (2ä¸ªç»´åº¦)
      - B.shape = (4,) (1ä¸ªç»´åº¦)
      - è¡¥é½åï¼ŒB çš„å½¢çŠ¶è¢«å½“ä½œ (1, 4) æ¥å‚ä¸æ¯”è¾ƒã€‚
   3. è§„åˆ™ 2ï¼šé€ä¸ªç»´åº¦çš„å…¼å®¹æ€§æ£€æŸ¥
      åœ¨ç»´åº¦æ•°é‡å¯¹é½åï¼ŒNumPy ä»å³åˆ°å·¦é€ä¸ªæ¯”è¾ƒæ¯ä¸ªç»´åº¦çš„å¤§å°ã€‚å¯¹äºæ¯ä¸€å¯¹è¢«æ¯”è¾ƒçš„ç»´åº¦ï¼Œå¿…é¡»æ»¡è¶³ä»¥ä¸‹**ä¸¤ä¸ªæ¡ä»¶ä¹‹ä¸€**æ‰ç®—å…¼å®¹ï¼š
      1. ä¸¤ä¸ªç»´åº¦çš„å¤§å°å®Œå…¨ç›¸ç­‰ã€‚
      2. å…¶ä¸­ä¸€ä¸ªç»´åº¦çš„å¤§å°æ˜¯ 1ã€‚
   4. **ä»å³å‘å·¦ï¼Œé€ä¸ªæ¯”è¾ƒï¼Œè¦ä¹ˆç›¸ç­‰ï¼Œè¦ä¹ˆå…¶ä¸­ä¸€ä¸ªæ˜¯1**
6. **æœ€åä¸€ä¸ªç»´åº¦** ï¼š
   1. åœ¨ NumPy ä¸­ï¼Œä¸€ä¸ªæ•°ç»„çš„å½¢çŠ¶ (shape) æ˜¯ä¸€ä¸ªå…ƒç»„ï¼Œæ¯”å¦‚ (3, 4) æˆ– (5, 3, 4)
   2. **"æœ€åä¸€ä¸ªç»´åº¦" å°±æ˜¯è¿™ä¸ªå…ƒç»„ä¸­æœ€å³è¾¹çš„é‚£ä¸ªæ•°å­—**
   3. å¯¹äºå½¢çŠ¶ä¸º (3, 4) çš„äºŒç»´æ•°ç»„ï¼ˆçŸ©é˜µï¼‰ï¼Œå®ƒæœ‰ä¸¤ä¸ªç»´åº¦ï¼š
      - ç¬¬ä¸€ä¸ªç»´åº¦ï¼ˆè¡Œï¼‰ï¼šå¤§å°ä¸º 3
      - **æœ€åä¸€ä¸ªç»´åº¦ï¼ˆåˆ—ï¼‰**ï¼šå¤§å°ä¸º 4
7. **å¦‚æœç»´åº¦ä¸åŒï¼Œå¯ä»¥ä½¿ç”¨reshapeå‡½æ•°æ˜¾ç¤ºè½¬æ¢ä¸ºç›¸åŒçš„ç»´åº¦**

**ç¤ºä¾‹ï¼š**
ä¸€ä¸ªäºŒç»´æ•°ç»„ï¼ˆå½¢çŠ¶ä¸º (3, 4)ï¼‰å‡å»ä¸€ä¸ªä¸€ç»´æ•°ç»„ï¼ˆå½¢çŠ¶ä¸º (4,) ï¼‰

```Python
arr = np.arange(12).reshape((3, 4))
# arr is:
# [[ 0  1  2  3]
#  [ 4  5  6  7]
#  [ 8  9 10 11]]

mean_row = arr.mean(axis=0) # è®¡ç®—æ¯åˆ—çš„å‡å€¼ï¼Œå½¢çŠ¶ä¸º (4,)
# mean_row is: [4. 5. 6. 7.]

# å¹¿æ’­æœºåˆ¶ç”Ÿæ•ˆ
# arr(3, 4) - mean_row(4,)
# NumPy è‡ªåŠ¨å°† mean_row "æ‹‰ä¼¸" æˆ (3, 4) çš„å½¢çŠ¶
# [[4. 5. 6. 7.]
#  [4. 5. 6. 7.]
#  [4. 5. 6. 7.]]
# ç„¶åå†æ‰§è¡Œé€å…ƒç´ ç›¸å‡
demeaned_arr = arr - mean_row
print(demeaned_arr)
```

å¹¿æ’­ä½¿å¾—æˆ‘ä»¬æ— éœ€åˆ›å»º mean_row çš„æ˜¾å¼å‰¯æœ¬ï¼Œéå¸¸é«˜æ•ˆ

### é«˜çº§è®¡ç®—

#### 1. çº¿æ€§ä»£æ•°è¿ç®—

å¤„ç†å‘é‡å’ŒçŸ©é˜µçš„æ•°å­¦è¿ç®—ï¼Œè¿™äº›è¿ç®—åœ¨ `np.linalg` æ¨¡å—ä¸­

- np.dot(a, b):                             çŸ©é˜µ/å‘é‡ç‚¹ç§¯

- np.matmul(a, b):                     çŸ©é˜µä¹˜æ³• (åœ¨Python 3.5+ä¸­ï¼Œæ›´æ¨èä½¿ç”¨ @ è¿ç®—ç¬¦, a @ b)

  æ³¨æ„ï¼šå½“ä½¿ç”¨ @è¿›è¡ŒçŸ©é˜µä¹˜æ³•æ—¶ï¼Œå¦‚æœå…¶ä¸­ä¸€ä¸ªæ“ä½œæ•°æ˜¯ 2D çŸ©é˜µ (M x N)ï¼Œå¦ä¸€ä¸ªæ˜¯ 1D æ•°ç»„ (é•¿åº¦ä¸º N)ï¼ŒNumPy ä¼šè‡ªåŠ¨å°†è¿™ä¸ª 1D æ•°ç»„**å½“ä½œä¸€ä¸ªåˆ—å‘é‡ (N x 1)** æ¥è¿›è¡Œè®¡ç®—ã€‚

  numpyå‘ç°ç¬¬äºŒä¸ªçŸ©é˜µæ˜¯ä¸€ä¸ªä¸€ç»´æ•°ç»„$1*N$ï¼Œä¼šè‡ªåŠ¨è½¬ä¸º$N*1$çš„åˆ—çŸ©é˜µï¼Œä½†æ˜¯ç”±äºè¾“å…¥ arr1 æ˜¯ä¸€ä¸ª 1D æ•°ç»„ï¼Œæ‰€ä»¥æœ€ç»ˆè¾“å‡ºæ˜¯ä¸€ä¸ªä¸€ç»´æ•°ç»„$[val1,val2]$ï¼Œè€Œä¸æ˜¯

  ```bash
  [[val1]
   [val2]]
  ```

- np.transpose(a) æˆ– a.T:          çŸ©é˜µè½¬ç½®

- np.linalg.inv(a):                       è®¡ç®—çŸ©é˜µçš„é€†

- np.linalg.det(a):                       è®¡ç®—çŸ©é˜µçš„è¡Œåˆ—å¼

- np.linalg.eig(a):                        è®¡ç®—çŸ©é˜µçš„ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡

- np.linalg.solve(a, b):                æ±‚è§£çº¿æ€§æ–¹ç¨‹ç»„ ax = b

**ç¤ºä¾‹**

å‡è®¾æˆ‘ä»¬æœ‰æ–¹ç¨‹ç»„ï¼š
$$
2x + y = 8\\
x + 3y = 11
$$

è¿™å¯ä»¥è¡¨ç¤ºä¸ºçŸ©é˜µå½¢å¼ Ax = bï¼š
$$
A = [[2, 1], [1, 3]], \\ b = [8, 11]
$$

```python
import numpy as np

A = np.array([[2, 1], [1, 3]])
b = np.array([8, 11])

# ä½¿ç”¨ NumPy æ±‚è§£ x
x = np.linalg.solve(A, b)

print(f"è§£ä¸º x = {x[0]}, y = {x[1]}") # è¾“å‡º: è§£ä¸º x = 2.6, y = 2.8
# éªŒè¯: 2*2.6 + 2.8 = 8.0,  2.6 + 3*2.8 = 11.0
```

#### 2. å‚…é‡Œå¶å˜æ¢ä¸ä¿¡å·å¤„ç†

ä¿¡å·ä»æ—¶åŸŸï¼ˆæˆ–ç©ºé—´åŸŸï¼‰è½¬æ¢åˆ°é¢‘åŸŸï¼Œçœ‹åˆ°ä¿¡å·ç”±å“ªäº›é¢‘ç‡çš„æ³¢ç»„æˆï¼Œè¿™äº›è¿ç®—åœ¨ `np.fft` æ¨¡å—ä¸­

**å¯¹äºæ›´é«˜çº§çš„ä¿¡å·å¤„ç†åº“ï¼Œæœç´¢ SciPy**ï¼Œ`scipy.signal` æ¨¡å—ä¸“é—¨ç”¨äºå¤„ç†ä¿¡å·ï¼Œå¹¶ä¸”å†…ç½®äº†å¸¸è§çš„å‡½æ•°å’ŒåŠŸèƒ½ï¼š

- å†…ç½®ä¿¡å·ç”Ÿæˆå™¨ï¼šå¦‚å†²æ¿€ã€é˜¶è·ƒã€æ–¹æ³¢ã€é”¯é½¿æ³¢ç­‰
- çª—å£å‡½æ•°ï¼šå¦‚æ±‰æ˜çª—ã€æ±‰å®çª—ç­‰
- æ»¤æ³¢å™¨è®¾è®¡ï¼šå¯ä»¥è½»æ¾è®¾è®¡å’Œåº”ç”¨å„ç§æ•°å­—æ»¤æ³¢å™¨
- å·ç§¯ã€ç›¸å…³æ€§è®¡ç®—ç­‰é«˜çº§åŠŸèƒ½

**ç¤ºä¾‹**ï¼šæ‰¾åˆ°æŸä¸€ä¿¡å·çš„ä¸»é¢‘ç‡

```python
# åˆ›å»ºä¸€ä¸ªé¢‘ç‡ä¸º 3 Hz çš„æ­£å¼¦æ³¢ä¿¡å·
sampling_rate = 100 # é‡‡æ ·ç‡
t = np.arange(0, 1, 1/sampling_rate) # 1ç§’çš„æ—¶é—´
signal = np.sin(3 * 2 * np.pi * t)

# è¿›è¡Œå‚…é‡Œå¶å˜æ¢
fft_result = np.fft.fft(signal)
frequencies = np.fft.fftfreq(len(signal), 1/sampling_rate)

# æ‰¾åˆ°ä¿¡å·æœ€å¼ºçš„é¢‘ç‡
strongest_freq_index = np.argmax(np.abs(fft_result))
strongest_freq = frequencies[strongest_freq_index]

print(f"ä¿¡å·çš„ä¸»é¢‘ç‡å¤§çº¦æ˜¯: {abs(strongest_freq):.1f} Hz") # è¾“å‡º: ä¿¡å·çš„ä¸»é¢‘ç‡å¤§çº¦æ˜¯: 3.0 Hz
```

#### 3. å¤æ‚çš„ç»Ÿè®¡ä¸éšæœºæ•°ç”Ÿæˆ

ç”Ÿæˆæ»¡è¶³ç‰¹å®šåˆ†å¸ƒï¼ˆå¦‚å¤šå…ƒæ­£æ€åˆ†å¸ƒï¼‰çš„éšæœºæ•°ï¼Œè¿›è¡Œè’™ç‰¹å¡æ´›æ¨¡æ‹Ÿç­‰

- np.random.multivariate_normal()ï¼šç”Ÿæˆå¤šå…ƒæ­£æ€åˆ†å¸ƒï¼ˆé«˜æ–¯åˆ†å¸ƒï¼‰çš„éšæœºæ•°ï¼Œå¯ä»¥æŒ‡å®šå˜é‡ä¹‹é—´çš„ç›¸å…³æ€§
- np.corrcoef()ï¼šè®¡ç®—ç›¸å…³ç³»æ•°çŸ©é˜µ
- np.histogram()ï¼šé«˜æ•ˆåœ°è®¡ç®—ç›´æ–¹å›¾

**åº”ç”¨åœºæ™¯**ï¼š

- é‡‘èå»ºæ¨¡ï¼šæ¨¡æ‹Ÿè‚¡ç¥¨ä»·æ ¼çš„éšæœºæ¸¸èµ°

  ç‰©ç†å­¦ï¼šæ¨¡æ‹Ÿç²’å­è¿åŠ¨ã€‚

- æœºå™¨å­¦ä¹ ï¼šåˆ›å»ºå¸¦æœ‰ç‰¹å®šç»Ÿè®¡å±æ€§çš„åˆæˆæ•°æ®é›†æ¥æµ‹è¯•ç®—æ³•

```python
# å®šä¹‰å‡å€¼å’Œåæ–¹å·®çŸ©é˜µï¼ˆè¡¨ç¤ºä¸¤ä¸ªå˜é‡æ­£ç›¸å…³ï¼‰
mean = [0, 0]
cov = [[1, 0.8], [0.8, 1]] # åæ–¹å·®çŸ©é˜µ

# ç”Ÿæˆ 1000 ä¸ªäºŒç»´æ•°æ®ç‚¹
data = np.random.multivariate_normal(mean, cov, 1000)

# éªŒè¯ç›¸å…³æ€§
correlation_matrix = np.corrcoef(data, rowvar=False) # rowvar=False è¡¨ç¤ºæ¯åˆ—æ˜¯ä¸€ä¸ªå˜é‡
print("ç”Ÿæˆæ•°æ®çš„ç›¸å…³ç³»æ•°çŸ©é˜µ:\n", correlation_matrix)
# è¾“å‡ºä¼šéå¸¸æ¥è¿‘åŸå§‹çš„åæ–¹å·®çŸ©é˜µä¸­çš„ç›¸å…³æ€§ï¼ˆ0.8ï¼‰
# [[1.         0.796... ]
#  [0.796...   1.         ]]
```

### æ•°å­¦ä¸ç»Ÿè®¡æ–¹æ³•

NumPy æä¾›äº†å¾ˆå¤šç”¨äºèšåˆè®¡ç®—çš„å‡½æ•°

```Python
arr = np.random.randn(5, 4) # 5x4 çš„éšæœºæ•°ç»„

print(arr.mean())   # è®¡ç®—æ‰€æœ‰å…ƒç´ çš„å¹³å‡å€¼
print(arr.sum())    # è®¡ç®—æ‰€æœ‰å…ƒç´ çš„å’Œ
print(arr.min())    # æ‰¾å‡ºæœ€å°å€¼
print(arr.max())    # æ‰¾å‡ºæœ€å¤§å€¼
print(arr.std())    # è®¡ç®—æ ‡å‡†å·®
print(arr.argmax()) # æ‰¾å‡ºæœ€å¤§å€¼çš„ç´¢å¼•ï¼ˆæ‹‰å¹³æˆä¸€ç»´åï¼‰
```

**æ²¿ç€è½´ axis è¿›è¡Œè®¡ç®—**

è¿™æ˜¯éå¸¸é‡è¦å’Œå¸¸ç”¨çš„åŠŸèƒ½ã€‚åœ¨ä¸€ä¸ªäºŒç»´æ•°ç»„ä¸­ï¼š

- axis=0 ä»£è¡¨æ²¿ç€**è¡Œ**æ“ä½œï¼ˆå¯¹æ¯ä¸€**åˆ—**è¿›è¡Œè®¡ç®—ï¼‰
- axis=1 ä»£è¡¨æ²¿ç€**åˆ—**æ“ä½œï¼ˆå¯¹æ¯ä¸€**è¡Œ**è¿›è¡Œè®¡ç®—ï¼‰

```Python
# è®¡ç®—æ¯ä¸€åˆ—çš„å’Œ
print(arr.sum(axis=0)) # è¿”å›ä¸€ä¸ªé•¿åº¦ä¸º4çš„æ•°ç»„

# è®¡ç®—æ¯ä¸€è¡Œçš„å¹³å‡å€¼
print(arr.mean(axis=1)) # è¿”å›ä¸€ä¸ªé•¿åº¦ä¸º5çš„æ•°ç»„
```

### æ€»ç»“

NumPy æ˜¯æ•°æ®ç§‘å­¦å’Œæœºå™¨å­¦ä¹ çš„æ°´ç”µç…¤ã€‚ä½ å¯èƒ½ä¸æ€»ä¼šç›´æ¥ä½¿ç”¨å®ƒï¼ˆæ¯”å¦‚åœ¨ä½¿ç”¨ Pandas æ—¶ï¼‰ï¼Œä½†å®ƒæ— å¤„ä¸åœ¨

- **æ ¸å¿ƒæ˜¯ ndarray**ï¼šä¸€ä¸ªå¿«é€Ÿã€é«˜æ•ˆçš„å¤šç»´æ•°ç»„
- **å‘é‡åŒ–æ˜¯å…³é”®**ï¼šé¿å…åœ¨ Python ä¸­å†™å¾ªç¯ï¼Œåˆ©ç”¨ NumPy åº•å±‚çš„ C ä»£ç è·å¾—å·¨å¤§æ€§èƒ½æå‡
- **ç´¢å¼•å’Œåˆ‡ç‰‡æ˜¯åˆ©å™¨**ï¼šç‰¹åˆ«æ˜¯å¸ƒå°”ç´¢å¼•ï¼Œæä¾›äº†æ— ä¸ä¼¦æ¯”çš„æ•°æ®ç­›é€‰èƒ½åŠ›
- **å¹¿æ’­æ˜¯é­”æ³•**ï¼šè®©ä½ èƒ½çµæ´»åœ°å¤„ç†ä¸åŒå½¢çŠ¶æ•°ç»„é—´çš„è¿ç®—